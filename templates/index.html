{% extends 'base.html' %}

{% block main %}
        <div class="content"> 

            <!-- for the video stream -->
            <div class="container">
                <div class="row">
                    <div class="container-vid vid col-lg-8">
                        <h3 class="mt-3">Live Stream Video Feed</h3>
                        <img class="img-vid" src="{{ url_for('video_feed') }}">
                    </div>
                    <!-- for the logs -->
                    <div class="log-column container-vid col-lg-4">
                        <div class="container-hist">
                            <h3 class="mt-3">Overview of Today's Logs</h3>
                            <div class="logs" id="hist"></div> <!--idk pa kung paano nalagay code-->
                        </div>
                        <div class="container-log">
                            <h3 class="mt-3">History Logs</h3>
                            <div class="logs" id="logs"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


<script>
    var source = new EventSource("{{ url_for('logs') }}");
    source.onmessage = function(event) {
        document.getElementById("logs").innerHTML += event.data + "<br>";
    }
</script>

{% endblock %}